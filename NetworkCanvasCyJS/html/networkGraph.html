<html>
    <head>
        <link href="css/cyjsNetworkViewer_Style.css" rel="stylesheet" />
        <!-- jQuery-ui-layout: CSS for split panes -->
        <link href="css/layout-default-latest.css" type="text/css" rel="stylesheet" />

        <meta charset=utf-8 />
        <script src="libs/jquery-1.11.2.min.js"></script>
        <script src="libs/cytoscape.min.js"></script>
        <script src="libs/jquery-ui.js"></script>
        <script src="libs/cytoscape-cxtmenu.js"></script>
<!--        <script src="libs/cytoscape-css-renderer.js"></script> -->
        <script src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"></script>
        <link href="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.css" rel="stylesheet" type="text/css" />
        <script src="https://cdn.rawgit.com/cytoscape/cytoscape.js-qtip/70964f0306e770837dbe2b81197c12fdc7804e38/cytoscape-qtip.js"></script>
        <script src="http://medialize.github.io/jQuery-contextMenu/src/jquery.contextMenu.js" type="text/javascript"></script>
        <link href="http://medialize.github.io/jQuery-contextMenu/src/jquery.contextMenu.css" rel="stylesheet" type="text/css" />
        <script src="http://medialize.github.io/jQuery-contextMenu/src/jquery.ui.position.js" type="text/javascript"></script>
        <!-- jQuery-ui-layout: for adding split panes -->
	<script src="libs/jquery.layout-latest.js"></script>
        <!-- For WebCola layout -->
        <script src="libs/cola.v3.min.js"></script>
        <script src="libs/cola.adaptor.js"></script>
        <!-- For Arbor layout -->
        <script src="libs/arbor.js"></script>
        <!-- For Springy layout -->
        <script src="libs/springy.js"></script>
        <!-- For Dagre (Tree) layout -->
        <script src="libs/dagre.js"></script>
        <!-- For Spread layout -->
        <script src="libs/foograph.js"></script>
        <script src="libs/rhill-voronoi-core.js"></script>
        <!-- URL mappings config file used for generating url's in Item Info table -->
        <script type="text/javascript" src="config/url_mappings.json"></script>

        <script src="javascript/cytoJS_Layouts.js"></script>
        <script src="javascript/networkView_cyjs.js"></script>
        <!-- for handling for adding split panes, added using jQuery-ui-layout -->
        <script src="javascript/splitPane_code.js"></script>

        <title>Network Viewer</title>
    </head>

  <body>
    <!-- North pane of split pane added using jquery-ui-layout -->
    <div class="ui-layout-north" onmouseover="myLayout.allowOverflow('north')" onmouseout="myLayout.resetOverflow(this)">
        <b>Network Graph using CytoscapeJS</b><br/><br/>
        <div id=layouts_container>
            <div id="animationCheckbox">Enable Layout Animation: <input type="checkbox" name="layoutAnimation_Chkbx" id="animateLayout" value="Enable Layout Animation" onclick="setLayoutAnimationSetting();" ondblclick="setLayoutAnimationSetting();" onmousedown="setLayoutAnimationSetting();" checked title="Check to enable layout Animation and uncheck to disable."><br/></div>
            <table id=layouts_table cellspacing=1>
                <thead><u>Layouts:</u></thead><tr>
                    <td align=center><input type="radio" name="layoutButton" id="default" value="Default_layout" onclick="setColaLayout();" checked title="using WebCola layout algorithm">Default (WebCola)</td>
                    <td align=center><input type="radio" name="layoutButton" id="circle" value="Circle_layout" onclick="setCircleLayout();">Circular</td>
                    <td align=center><input type="radio" name="layoutButton" id="cose" value="Cose_layout" onclick="setCoseLayout();" title="using CoSE layout algorithm (with node clustering, but performance-intensive for larger networks)">Cose</td>
                    <td align=center><input type="radio" name="layoutButton" id="arbor" value="Arbor_layout" onclick="setArborLayout();" title="using Arbor layout algorithm">Arbor</td>
                    <td align=center><input type="radio" name="layoutButton" id="breadthfirst" value="Breadthfirst_layout" onclick="setBreadthfirstLayout();">Breadthfirst</td>
                    <td align=center><input type="radio" name="layoutButton" id="dagre" value="Tree_layout" onclick="setTreeLayout();" title="using Dagre layout algorithm">Tree</td>
                    <td align=center><input type="radio" name="layoutButton" id="springy" value="Springy_layout" onclick="setSpringyLayout();" title="using Springy layout algorithm (not suitable for larger networks)">Springy</td>
                    <td align=center><input type="radio" name="layoutButton" id="grid" value="Grid_layout" onclick="setGridLayout();">Grid</td>
<!--                    <td align=center><input type="radio" name="layoutButton" id="spread" value="Spread_layout" onclick="setSpreadLayout();" title="using foograph.js & rhill-voronoi-core.js">Spread</td> -->
                    <td align=center><input type="radio" name="layoutButton" id="concentric" value="Concentric_layout" onclick="setConcentricLayout();">Concentric</td>
                </tr>
            </table>
        </div><hr>
<!--        <br/>-->
        <div>
             Re-run Layout: <input type="button" value="Relayout" onclick="rerunLayout();" title="Re-run the graph Layout">
<!--             Annotate relations by attribute: <input type="button" value="Annotate" disabled onclick="annotateByAttribute();" title="Annotate relations by any attribute"> -->
             Search for concept: <input type="text" id="txtSearch" placeholder="Search..." /> <input type="button" value="Search" onclick="findConcept(document.getElementById('txtSearch').value);" title="Search by concept name">
             Reset graph: <input type="button" value="Reset" onclick="resetGraph();" title="Reposition (reset and re-fit) the graph">
<!--             Fit: <input type="button" value="Fit" onclick="fitGraph();" title="Re-fit the graph">
             Reset Only: <input type="button" value="ResetOnly" onclick="onlyResetGraph();" title="Reset the graph">
             Zoom: <input type="button" value="Zoom" onclick="zoomGraph();" title="Zoom the graph">
             Center: <input type="button" value="Center" onclick="centerGraph();" title="Center the graph">
             Pan: <input type="button" value="Pan" onclick="panGraph();" title="Pan the graph"> -->
        </div>
        <br/>
        <div>
            Show concept neighbourhood: <input type="button" value="Show Neighbourhood" onclick="showNeighbourhood();" title="Display concept neighbourhood">
            Export graph JSON: <input type="button" value="Export JSON" onclick="exportAsJson();" title="Export the Network graph as a JSON object and show it in a new Tab">
            Export graph Image: <input type="button" value="Export Image" onclick="exportAsImage();" title="Export the Network graph as a .png image (generated below)">
        </div>
<!--    <br/>-->
	<!-- these Show/ Hide buttons have events added dynamically in document.ready -->
<!--	<p class="buttons">Item Information:
		<button id="showItemInfoPane">Show</button>
		&nbsp;
		<button onclick="myLayout.hide('east')">Hide</button></p>
        <br/>-->
    </div>

    <!-- Center pane of split pane added using jquery-ui-layout -->
    <div class="ui-layout-center">
        <!-- The core cytoscapeJS container -->
        <div id="cy"></div>
<!--        <div id="cy" ondragenter="dragCyContainer()"></div> -->

        <div id="infoDialog"></div><br/>

        <div id=legend_picture><div id=legend_container><table id=legend_frame cellspacing=1>
                    <tr><td align=center><img src=image/Gene.png></td>
                	<td align=center><img src=image/Protein.png></td>
                	<td align=center><img src=image/Pathway.png></td>
                	<td align=center><img src=image/Compound.png></td>
                	<td align=center><img src=image/Enzyme.png></td>
                	<td align=center><img src=image/Reaction.png></td>
                	<td align=center><img src=image/Publication.png></td>
                	<td align=center><img src=image/QTL.png></td>
                    </tr><tr>
                        <td align=center><font size=1.8px>Gene</font></td>
                	<td align=center><font size=1.8px>Protein</font></td>
                	<td align=center><font size=1.8px>Pathway</font></td>
                	<td align=center><font size=1.8px>SNP</font></td>
                	<td align=center><font size=1.8px>Enzyme</font></td>
                	<td align=center><font size=1.8px>Reaction</font></td>
                	<td align=center><font size=1.8px>Publication</font></td>
                	<td align=center><font size=1.8px>QTL</font></td>
                    </tr><tr><td align=center></td></tr><tr>
                        <td align=center><img src=image/Phenotype.png></td>
                	<td align=center><img src=image/Biological_process.png></td>
                	<td align=center><img src=image/Cellular_component.png></td>
                	<td align=center><img src=image/Protein_domain.png></td>
                	<td align=center><img src=image/Trait_ontology.png></td>
                	<td align=center><img src=image/Molecular_function.png></td>
                	<td align=center><img src=image/Enzyme_classification.png></td>
<!--                	<td align=center><img src=image/Scaffold.png></td>-->
                    </tr><tr><td align=center><font size=1.8px>Phenotype</font></td>
                	<td align=center><font size=1.8px>Biol. Process</font></td>
                	<td align=center><font size=1.8px>Cell. Component</font></td>
                	<td align=center><font size=1.8px>Protein Domain</font></td>
                	<td align=center><font size=1.8px>Trait Ontology</font></td>
                	<td align=center><font size=1.8px>Mol. Function</font></td>
                	<td align=center><font size=1.8px>Enzyme Classification</font></td>
<!--                	<td align=center><font size=1.8px>Scaffold</font></td>-->
                    </tr></table>
            </div>
        </div>
<!--        <br/>-->
    </div>

     <!-- South pane of split pane added using jquery-ui-layout -->
    <div class="ui-layout-south" id="pageFooter">
        <b>QTLNetMiner</b>: New Network Viewer using Cytoscape.js
    </div>

     <!-- East pane of split pane added using jquery-ui-layout -->
   <div class="ui-layout-east">
	<!-- Item Info -->
        <div id="itemInfo" class="infoDiv">
            <b>Item Information:</b>
<!--            <input type="button" id="showHideInfo" value="Show/ Hide" onclick="showOrHideItemInfoTable();" title="Click to show or hide the Item Info table">-->
  	    <!-- this button has its event added dynamically in document.ready, using jquery-ui-layout -->
            <button id="btnCloseItemInfoPane">Close</button>
            <br/><br/>
            <table id="itemInfo_Table" class="infoTable" cellspacing=1>
                <thead><th>Item Info:</th><th>Information about selected concept(s) or relation(s)</th></thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
  </body>
</html>
